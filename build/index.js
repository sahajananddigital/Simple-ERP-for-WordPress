(()=>{"use strict";var e={338:(e,t,s)=>{var n=s(795);t.H=n.createRoot,n.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=s(338);const r=window.wp.element,a=window.wp.i18n,l=window.wp.components,i=window.wp.apiFetch;var o=s.n(i);const d=e=>{switch(e){case"customer":return"#00a32a";case"opportunity":return"#2271b1";default:return"#dba617"}},c=window.ReactJSXRuntime,p=({contacts:e,loading:t})=>t?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No contacts found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Name","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Email","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Phone","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Company","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("strong",{children:[e.first_name," ",e.last_name]})}),(0,c.jsx)("td",{children:e.email||"-"}),(0,c.jsx)("td",{children:e.phone||"-"}),(0,c.jsx)("td",{children:e.company||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:d(e.status),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})})]},e.id))})]})}),x=({onContactCreated:e})=>{const[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[d,p]=(0,r.useState)({first_name:"",last_name:"",email:"",phone:"",company:"",status:"lead",type:"contact"});return(0,c.jsxs)(c.Fragment,{children:[n&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>i(null),children:n}),(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Add New Contact","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),i(null);try{await(async e=>{try{return await o()({path:"/wp-erp/v1/crm/contacts",method:"POST",data:e})}catch(e){throw new Error(e.message||(0,a.__)("Failed to create contact","wp-erp"))}})(d),p({first_name:"",last_name:"",email:"",phone:"",company:"",status:"lead",type:"contact"}),e&&e()}catch(e){i(e.message)}finally{s(!1)}},children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("First Name","wp-erp"),value:d.first_name,onChange:e=>p({...d,first_name:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Last Name","wp-erp"),value:d.last_name,onChange:e=>p({...d,last_name:e}),required:!0})})]}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Email","wp-erp"),type:"email",value:d.email,onChange:e=>p({...d,email:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Phone","wp-erp"),value:d.phone,onChange:e=>p({...d,phone:e})})})]}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Company","wp-erp"),value:d.company,onChange:e=>p({...d,company:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Status","wp-erp"),value:d.status,options:[{label:(0,a.__)("Lead","wp-erp"),value:"lead"},{label:(0,a.__)("Customer","wp-erp"),value:"customer"},{label:(0,a.__)("Opportunity","wp-erp"),value:"opportunity"}],onChange:e=>p({...d,status:e})})})]}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:t,children:(0,a.__)("Add Contact","wp-erp")})})]})})})]})]})},h=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{h()},[]);const h=async()=>{n(!0),d(null);try{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/crm/contacts"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch contacts","wp-erp"))}})();t(e)}catch(e){d(e.message)}finally{n(!1)}},u=()=>{h()};return(0,c.jsxs)("div",{className:"wp-erp-crm",style:{padding:"16px"},children:[i&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>d(null),children:i}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("CRM Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-crm-tabs",activeClass:"is-active",initialTabName:"contacts",tabs:[{name:"contacts",title:(0,a.__)("Contacts","wp-erp"),className:"tab-contacts"}],children:t=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x,{onContactCreated:u}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Contacts","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(p,{contacts:e,loading:s})})]})]})})})]})]})},u=({accounts:e,loading:t})=>t?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No accounts found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Code","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Name","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Balance","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.code})}),(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:e.type}),(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.balance})})]},e.id))})]})}),j=({transactions:e,loading:t})=>{const[s,n]=(0,r.useState)(null);return t?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No transactions found.","wp-erp")}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Voucher No","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Reference","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Total","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Actions","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.voucher_no})}),(0,c.jsx)("td",{children:e.type}),(0,c.jsx)("td",{children:e.date}),(0,c.jsx)("td",{children:e.reference||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.total})}),(0,c.jsx)("td",{children:(0,c.jsx)(l.Button,{variant:"secondary",onClick:()=>n(e),isSmall:!0,children:(0,a.__)("View","wp-erp")})})]},e.id))})]})}),s&&(0,c.jsx)(l.Modal,{title:(0,a.__)("Transaction Details","wp-erp"),onRequestClose:()=>n(null),children:(0,c.jsxs)("div",{style:{padding:"16px"},children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:(0,a.__)("Voucher No:","wp-erp")})," ",s.voucher_no]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:(0,a.__)("Type:","wp-erp")})," ",s.type]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:(0,a.__)("Date:","wp-erp")})," ",s.date]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:(0,a.__)("Reference:","wp-erp")})," ",s.reference||"-"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:(0,a.__)("Total:","wp-erp")})," ",s.total]}),(0,c.jsx)(l.Flex,{justify:"flex-end",style:{marginTop:"24px"},children:(0,c.jsx)(l.Button,{variant:"primary",onClick:()=>n(null),children:(0,a.__)("Close","wp-erp")})})]})})]})},_=({onTransactionCreated:e})=>{const[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[d,p]=(0,r.useState)({voucher_no:"",type:"payment",date:(new Date).toISOString().split("T")[0],reference:"",total:"",description:""});return(0,c.jsxs)(c.Fragment,{children:[n&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>i(null),children:n}),(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Create Transaction","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),i(null);try{await(async e=>{try{return await o()({path:"/wp-erp/v1/accounting/transactions",method:"POST",data:e})}catch(e){throw new Error(e.message||(0,a.__)("Failed to create transaction","wp-erp"))}})(d),p({voucher_no:"",type:"payment",date:(new Date).toISOString().split("T")[0],reference:"",total:"",description:""}),e&&e()}catch(e){i(e.message)}finally{s(!1)}},children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Voucher No","wp-erp"),value:d.voucher_no,onChange:e=>p({...d,voucher_no:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Type","wp-erp"),value:d.type,options:[{label:(0,a.__)("Payment","wp-erp"),value:"payment"},{label:(0,a.__)("Receipt","wp-erp"),value:"receipt"},{label:(0,a.__)("Journal","wp-erp"),value:"journal"}],onChange:e=>p({...d,type:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Date","wp-erp"),type:"date",value:d.date,onChange:e=>p({...d,date:e}),required:!0})})]}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Reference","wp-erp"),value:d.reference,onChange:e=>p({...d,reference:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Total","wp-erp"),type:"number",step:"0.01",value:d.total,onChange:e=>p({...d,total:e}),required:!0})})]}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextareaControl,{label:(0,a.__)("Description","wp-erp"),value:d.description,onChange:e=>p({...d,description:e}),rows:4})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:t,children:(0,a.__)("Create Transaction","wp-erp")})})]})})})]})]})},m=({view:e="accounts"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[d,p]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),[m,y]=(0,r.useState)("transactions"===e?"transactions":"accounts");(0,r.useEffect)(()=>{"accounts"===m?w():g()},[m]);const w=async()=>{p(!0),h(null);try{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/accounting/accounts"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch accounts","wp-erp"))}})();s(e)}catch(e){h(e.message)}finally{p(!1)}},g=async()=>{p(!0),h(null);try{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/accounting/transactions"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch transactions","wp-erp"))}})();i(e)}catch(e){h(e.message)}finally{p(!1)}},f=()=>{"transactions"!==m?y("transactions"):g()};return(0,c.jsxs)("div",{className:"wp-erp-accounting",style:{padding:"16px"},children:[x&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>h(null),children:x}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Accounting","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-accounting-tabs",activeClass:"is-active",initialTabName:m,onSelect:e=>y(e),tabs:[{name:"accounts",title:(0,a.__)("Chart of Accounts","wp-erp"),className:"tab-accounts"},{name:"transactions",title:(0,a.__)("Transactions","wp-erp"),className:"tab-transactions"},{name:"create",title:(0,a.__)("Create Transaction","wp-erp"),className:"tab-create"}],children:e=>"accounts"===e.name?(0,c.jsx)(u,{accounts:t,loading:d}):"transactions"===e.name?(0,c.jsx)(j,{transactions:n,loading:d}):(0,c.jsx)(_,{onTransactionCreated:f})})})]})]})},y=({view:e="employees"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null),[x,h]=(0,r.useState)(e);(0,r.useEffect)(()=>{"employees"===x&&u()},[x]);const u=async()=>{i(!0),p(null);try{const e=await o()({path:"/wp-erp/v1/hr/employees"});s(e)}catch(e){p(e.message||(0,a.__)("Failed to fetch employees","wp-erp"))}finally{i(!1)}};return(0,c.jsxs)("div",{className:"wp-erp-hr",style:{padding:"16px"},children:[d&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>p(null),children:d}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("HR Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-hr-tabs",activeClass:"is-active",initialTabName:x,onSelect:e=>h(e),tabs:[{name:"employees",title:(0,a.__)("Employees","wp-erp"),className:"tab-employees"},{name:"leaves",title:(0,a.__)("Leave Requests","wp-erp"),className:"tab-leaves"}],children:e=>"employees"===e.name?n?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===t.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No employees found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Employee ID","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Name","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Designation","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Department","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")})]})}),(0,c.jsx)("tbody",{children:t.map(e=>{return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.employee_id})}),(0,c.jsx)("td",{children:e.user_id?`User #${e.user_id}`:"-"}),(0,c.jsx)("td",{children:e.designation||"-"}),(0,c.jsx)("td",{children:e.department||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:(t=e.status,"active"===t?"#00a32a":"#757575"),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})})]},e.id);var t})})]})}):(0,c.jsx)("div",{className:"wp-erp-hr",children:(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Leave Requests","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("Leave management coming soonâ€¦","wp-erp")})})]})})})})]})]})},w=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[i,d]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1),[h,u]=(0,r.useState)({subject:"",description:"",priority:"medium",status:"open"}),[j,_]=(0,r.useState)("tickets");(0,r.useEffect)(()=>{m()},[]);const m=async()=>{n(!0),d(null);try{const e=await o()({path:"/wp-erp/v1/helpdesk/tickets"});t(e)}catch(e){d(e.message||(0,a.__)("Failed to fetch tickets","wp-erp"))}finally{n(!1)}},y=async e=>{e.preventDefault(),x(!0),d(null);try{await o()({path:"/wp-erp/v1/helpdesk/tickets",method:"POST",data:h}),u({subject:"",description:"",priority:"medium",status:"open"}),m(),_("tickets")}catch(e){d(e.message||(0,a.__)("Failed to create ticket","wp-erp"))}finally{x(!1)}},w=e=>{switch(e){case"urgent":return"#d63638";case"high":return"#dba617";case"medium":return"#2271b1";default:return"#00a32a"}},g=e=>{switch(e){case"open":return"#d63638";case"closed":return"#757575";default:return"#00a32a"}};return(0,c.jsxs)("div",{className:"wp-erp-helpdesk",style:{padding:"16px"},children:[i&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>d(null),children:i}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Helpdesk Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-helpdesk-tabs",activeClass:"is-active",initialTabName:j,onSelect:e=>_(e),tabs:[{name:"tickets",title:(0,a.__)("Tickets","wp-erp"),className:"tab-tickets"},{name:"create",title:(0,a.__)("Create Ticket","wp-erp"),className:"tab-create"}],children:t=>"tickets"===t.name?s?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No tickets found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Ticket No","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Subject","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Priority","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Created","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.ticket_no})}),(0,c.jsx)("td",{children:e.subject}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:w(e.priority),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.priority})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:g(e.status),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})}),(0,c.jsx)("td",{children:e.created_at})]},e.id))})]})}):(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Create New Ticket","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:y,children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Subject","wp-erp"),value:h.subject,onChange:e=>u({...h,subject:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextareaControl,{label:(0,a.__)("Description","wp-erp"),value:h.description,onChange:e=>u({...h,description:e}),required:!0,rows:6})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Priority","wp-erp"),value:h.priority,options:[{label:(0,a.__)("Low","wp-erp"),value:"low"},{label:(0,a.__)("Medium","wp-erp"),value:"medium"},{label:(0,a.__)("High","wp-erp"),value:"high"},{label:(0,a.__)("Urgent","wp-erp"),value:"urgent"}],onChange:e=>u({...h,priority:e})})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:p,children:(0,a.__)("Create Ticket","wp-erp")})})]})})})]})})})]})]})},g=({view:e="list"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[u,j]=(0,r.useState)({voucher_type:"payment",date:(new Date).toISOString().split("T")[0],party_name:"",amount:"",description:"",status:"draft"}),[_,m]=(0,r.useState)("create"===e?"create":"list");(0,r.useEffect)(()=>{"list"===_&&y()},[_]);const y=async()=>{i(!0),p(null);try{const e=await o()({path:"/wp-erp/v1/vouchers"});s(e)}catch(e){p(e.message||(0,a.__)("Failed to fetch vouchers","wp-erp"))}finally{i(!1)}},w=async e=>{e.preventDefault(),h(!0),p(null);try{await o()({path:"/wp-erp/v1/vouchers",method:"POST",data:u}),j({voucher_type:"payment",date:(new Date).toISOString().split("T")[0],party_name:"",amount:"",description:"",status:"draft"}),"create"===_?m("list"):y()}catch(e){p(e.message||(0,a.__)("Failed to create voucher","wp-erp"))}finally{h(!1)}},g=e=>{switch(e){case"approved":return"#00a32a";case"draft":return"#757575";default:return"#dba617"}};return(0,c.jsxs)("div",{className:"wp-erp-vouchers",style:{padding:"16px"},children:[d&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>p(null),children:d}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Voucher Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-vouchers-tabs",activeClass:"is-active",initialTabName:_,onSelect:e=>m(e),tabs:[{name:"list",title:(0,a.__)("All Vouchers","wp-erp"),className:"tab-list"},{name:"create",title:(0,a.__)("Create Voucher","wp-erp"),className:"tab-create"}],children:e=>"list"===e.name?n?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===t.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No vouchers found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Voucher No","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Party Name","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Amount","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")})]})}),(0,c.jsx)("tbody",{children:t.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.voucher_no})}),(0,c.jsx)("td",{children:e.voucher_type}),(0,c.jsx)("td",{children:e.date}),(0,c.jsx)("td",{children:e.party_name||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.amount})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:g(e.status),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})})]},e.id))})]})}):(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Create New Voucher","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:w,children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Voucher Type","wp-erp"),value:u.voucher_type,options:[{label:(0,a.__)("Payment","wp-erp"),value:"payment"},{label:(0,a.__)("Receipt","wp-erp"),value:"receipt"},{label:(0,a.__)("Journal","wp-erp"),value:"journal"}],onChange:e=>j({...u,voucher_type:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Date","wp-erp"),type:"date",value:u.date,onChange:e=>j({...u,date:e}),required:!0})})]}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Party Name","wp-erp"),value:u.party_name,onChange:e=>j({...u,party_name:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Amount","wp-erp"),type:"number",step:"0.01",value:u.amount,onChange:e=>j({...u,amount:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextareaControl,{label:(0,a.__)("Description","wp-erp"),value:u.description,onChange:e=>j({...u,description:e}),rows:4})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:x,children:(0,a.__)("Create Voucher","wp-erp")})})]})})})]})})})]})]})},f=({view:e="list"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[u,j]=(0,r.useState)({contact_id:"",invoice_date:(new Date).toISOString().split("T")[0],due_date:"",subtotal:"",tax_amount:"",total_amount:"",notes:"",status:"draft"}),[_,m]=(0,r.useState)("create"===e?"create":"list");(0,r.useEffect)(()=>{"list"===_&&y()},[_]);const y=async()=>{i(!0),p(null);try{const e=await o()({path:"/wp-erp/v1/invoices"});s(e)}catch(e){p(e.message||(0,a.__)("Failed to fetch invoices","wp-erp"))}finally{i(!1)}},w=async e=>{e.preventDefault(),h(!0),p(null);try{await o()({path:"/wp-erp/v1/invoices",method:"POST",data:u}),"create"===_?m("list"):y()}catch(e){p(e.message||(0,a.__)("Failed to create invoice","wp-erp"))}finally{h(!1)}},g=e=>{switch(e){case"paid":return"#00a32a";case"draft":return"#757575";default:return"#dba617"}};return(0,c.jsxs)("div",{className:"wp-erp-invoices",style:{padding:"16px"},children:[d&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>p(null),children:d}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Invoice Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-invoices-tabs",activeClass:"is-active",initialTabName:_,onSelect:e=>m(e),tabs:[{name:"list",title:(0,a.__)("All Invoices","wp-erp"),className:"tab-list"},{name:"create",title:(0,a.__)("Create Invoice","wp-erp"),className:"tab-create"}],children:e=>"list"===e.name?n?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===t.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No invoices found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Invoice No","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Due Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Total Amount","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")})]})}),(0,c.jsx)("tbody",{children:t.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.invoice_no})}),(0,c.jsx)("td",{children:e.invoice_date}),(0,c.jsx)("td",{children:e.due_date||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.total_amount})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:g(e.status),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})})]},e.id))})]})}):(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Create Invoice","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:w,children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Invoice Date","wp-erp"),type:"date",value:u.invoice_date,onChange:e=>j({...u,invoice_date:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Due Date","wp-erp"),type:"date",value:u.due_date,onChange:e=>j({...u,due_date:e})})})]}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Subtotal","wp-erp"),type:"number",step:"0.01",value:u.subtotal,onChange:e=>{const t=parseFloat(e)||0,s=parseFloat(u.tax_amount)||0;j({...u,subtotal:e,total_amount:(t+s).toFixed(2)})}})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Tax Amount","wp-erp"),type:"number",step:"0.01",value:u.tax_amount,onChange:e=>{const t=parseFloat(u.subtotal)||0,s=parseFloat(e)||0;j({...u,tax_amount:e,total_amount:(t+s).toFixed(2)})}})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Total Amount","wp-erp"),type:"number",step:"0.01",value:u.total_amount,readOnly:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextareaControl,{label:(0,a.__)("Notes","wp-erp"),value:u.notes,onChange:e=>j({...u,notes:e}),rows:4})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:x,children:(0,a.__)("Create Invoice","wp-erp")})})]})})})]})})})]})]})},b=e=>{switch(e){case"approved":return"#00a32a";case"rejected":return"#d63638";default:return"#dba617"}},v=({expenses:e,loading:t})=>t?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No expenses found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Expense No","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Amount","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Category","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Status","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.expense_no})}),(0,c.jsx)("td",{children:e.expense_type}),(0,c.jsx)("td",{children:e.date}),(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.amount})}),(0,c.jsx)("td",{children:e.category||"-"}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"4px 8px",borderRadius:"2px",backgroundColor:b(e.status),color:"#fff",fontSize:"12px",textTransform:"capitalize"},children:e.status})})]},e.id))})]})}),C=({onExpenseCreated:e})=>{const[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[d,p]=(0,r.useState)({expense_type:"general",date:(new Date).toISOString().split("T")[0],amount:"",description:"",category:"",payment_method:"cash",status:"pending"});return(0,c.jsxs)(c.Fragment,{children:[n&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>i(null),children:n}),(0,c.jsxs)(l.Card,{style:{marginBottom:"24px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Add Expense","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),i(null);try{await(async e=>{try{return await o()({path:"/wp-erp/v1/expenses",method:"POST",data:e})}catch(e){throw new Error(e.message||(0,a.__)("Failed to create expense","wp-erp"))}})(d),p({expense_type:"general",date:(new Date).toISOString().split("T")[0],amount:"",description:"",category:"",payment_method:"cash",status:"pending"}),e&&e()}catch(e){i(e.message)}finally{s(!1)}},children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Expense Type","wp-erp"),value:d.expense_type,options:[{label:(0,a.__)("General","wp-erp"),value:"general"},{label:(0,a.__)("Travel","wp-erp"),value:"travel"},{label:(0,a.__)("Meals","wp-erp"),value:"meals"},{label:(0,a.__)("Office Supplies","wp-erp"),value:"office_supplies"}],onChange:e=>p({...d,expense_type:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Date","wp-erp"),type:"date",value:d.date,onChange:e=>p({...d,date:e}),required:!0})})]}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Amount","wp-erp"),type:"number",step:"0.01",value:d.amount,onChange:e=>p({...d,amount:e}),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Category","wp-erp"),value:d.category,onChange:e=>p({...d,category:e})})})]}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Payment Method","wp-erp"),value:d.payment_method,options:[{label:(0,a.__)("Cash","wp-erp"),value:"cash"},{label:(0,a.__)("Bank Transfer","wp-erp"),value:"bank_transfer"},{label:(0,a.__)("Credit Card","wp-erp"),value:"credit_card"},{label:(0,a.__)("Cheque","wp-erp"),value:"cheque"}],onChange:e=>p({...d,payment_method:e})})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Status","wp-erp"),value:d.status,options:[{label:(0,a.__)("Pending","wp-erp"),value:"pending"},{label:(0,a.__)("Approved","wp-erp"),value:"approved"},{label:(0,a.__)("Rejected","wp-erp"),value:"rejected"}],onChange:e=>p({...d,status:e})})})]}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextareaControl,{label:(0,a.__)("Description","wp-erp"),value:d.description,onChange:e=>p({...d,description:e}),rows:4})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:t,children:(0,a.__)("Add Expense","wp-erp")})})]})})})]})]})},S=({view:e="list"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null),[x,h]=(0,r.useState)("create"===e?"create":"list");(0,r.useEffect)(()=>{"list"===x&&u()},[x]);const u=async()=>{i(!0),p(null);try{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/expenses"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch expenses","wp-erp"))}})();s(e)}catch(e){p(e.message)}finally{i(!1)}},j=()=>{"list"!==x?h("list"):u()};return(0,c.jsxs)("div",{className:"wp-erp-expenses",style:{padding:"16px"},children:[d&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>p(null),children:d}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Expense Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-expenses-tabs",activeClass:"is-active",initialTabName:x,onSelect:e=>h(e),tabs:[{name:"list",title:(0,a.__)("All Expenses","wp-erp"),className:"tab-list"},{name:"create",title:(0,a.__)("Add Expense","wp-erp"),className:"tab-create"}],children:e=>"list"===e.name?(0,c.jsx)(v,{expenses:t,loading:n}):(0,c.jsx)(C,{onExpenseCreated:j})})})]})]})},T=async()=>{try{return await o()({path:"/wp-erp/v1/food-pass"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch food passes","wp-erp"))}},F=(e,t="food-pass")=>{const s=document.createElement("canvas"),n=s.getContext("2d"),r="donation"===t?800:600;s.width=380,s.height=r,n.fillStyle="#ffffff",n.fillRect(0,0,380,r),n.fillStyle="#000000",n.font="bold 16px monospace",n.textBaseline="top";let a=20;const l=24,i=(e,t)=>(n.textAlign="center",n.fillText(e,190,t),t+l),o=e=>(n.textAlign="center",n.fillText("---------------------------------",190,e),e+l);if("food-pass"===t){a=i("Shree Swaminarayan Gurukul",a),a=o(a),a=i("ðŸ› FOOD PASS ðŸ›",a),a=o(a),a+=10;const t=20,s=140,r=(e,r)=>{n.textAlign="left",n.fillText(e,t,a),n.fillText(" : "+r,s,a),a+=l};r("ID",e.id),r("Date",e.date),r("Time",e.time),r("Quantity",e.quantity),r("Rate",`â‚¹${e.rate}`),a=o(a),n.font="bold 20px monospace",r("Total",`â‚¹${e.amount}`),a+=30,n.font="bold 16px monospace",a=i("ðŸ™ Jay Swaminarayan ðŸ™",a)}else if("donation"===t){a=i("Shree Swaminarayan Gurukul",a),a=i("Ahmedabad - Nikol",a),a+=10,n.font="bold 20px monospace",a=i("DONATION",a),n.font="bold 16px monospace",a+=10;const t=20,s=100,r=(e,r)=>{n.textAlign="left",n.fillText(e,t,a),n.fillText(" : "+r,s,a),a+=l};r("ID",e.id),r("Date",e.date),r("Name",e.donor_name),r("Amount",`â‚¹${e.amount}`),r("Phone",e.phone||"-"),r("Details",e.ledger||"-"),e.note&&r("Note",e.note),r("Ledger",e.ledger),a+=20,a=i("âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»âœ»",a),a+=10,n.textAlign="left",n.fillText("Gurkul Activities:",20,a),a+=l,["âœ» Morning Evening Aarti","âœ» Daily Shiramani & Pooja","âœ» Ravi Sabha","âœ» Saturday Youth Sabha","âœ» Poonam Abhishek"].forEach(e=>{n.fillText("  "+e,20,a),a+=l}),a+=20,a=i("ðŸ™ ðŸ™ Jay Swaminarayan ðŸ™ ðŸ™",a)}return s.toDataURL("image/png")},N=e=>{const t=window.open("","_blank","width=400,height=600");t?(t.document.write(`\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<title>Print Receipt</title>\n\t\t\t\t<style>\n\t\t\t\t\tbody { margin: 0; padding: 0; display: flex; justify-content: center; }\n\t\t\t\t\timg { width: 100%; max-width: 380px; height: auto; }\n\t\t\t\t\t@media print {\n\t\t\t\t\t\tbody { -webkit-print-color-adjust: exact; }\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<img src="${e}" onload="window.print(); window.close();" />\n\t\t\t</body>\n\t\t</html>\n\t`),t.document.close()):alert("Please allow popups to print the receipt.")},B=({onFoodPassCreated:e})=>{const[t,s]=(0,r.useState)(1),[n]=(0,r.useState)(90),[i,d]=(0,r.useState)(!1),[p,x]=(0,r.useState)(null),h=t*n;return(0,c.jsxs)(c.Fragment,{children:[p&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>x(null),children:p}),(0,c.jsxs)(l.Card,{style:{marginBottom:"24px",maxWidth:"400px"},children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Food Pass","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:async r=>{r.preventDefault(),d(!0),x(null);const l=new Date,i=l.toISOString().split("T")[0],c=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),p=l.getHours()<16?"Lunch":"Dinner",u={quantity:parseInt(t),amount:h,date:i,time:c,rate:n,mealType:p,id:"PENDING..."},j={issue_date:i,valid_from:i,valid_to:i,total_meals:parseInt(t),meals_per_day:parseInt(t),status:"active",notes:JSON.stringify({amount:h,rate:n,time:c,mealType:p})};try{const t=await(async e=>{try{return await o()({path:"/wp-erp/v1/food-pass",method:"POST",data:e})}catch(e){const t=e.message&&e.data?.status?`${e.message} (${e.data.status})`:e.message||(0,a.__)("Failed to save food pass","wp-erp");throw new Error(t)}})(j);u.id=t.id;const n=F(u,"food-pass");N(n),e&&e(),s(1)}catch(e){x(e.message)}finally{d(!1)}},children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Quantity:","wp-erp"),type:"number",min:"1",value:t,onChange:e=>s(e),required:!0})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Total Amount to Pay:","wp-erp"),value:`â‚¹${h}`,readOnly:!0,help:(0,a.__)("Rate: â‚¹90 per meal","wp-erp")})}),(0,c.jsx)(l.Flex,{justify:"flex-start",children:(0,c.jsx)(l.Button,{variant:"primary",type:"submit",isBusy:i,children:(0,a.__)("Print Food Pass","wp-erp")})}),(0,c.jsx)("p",{style:{fontSize:"12px",color:"#646970",margin:0},children:(0,a.__)("Prints instantly; data queued for syncing.")})]})})})]})]})},D=({foodPasses:e,loading:t})=>{const s=(e=>{const t=new Date,s=t.toISOString().split("T")[0],n=t.getMonth(),r=t.getFullYear(),a=new Date(t.getFullYear(),t.getMonth()-1,1),l=a.getMonth(),i=a.getFullYear(),o={today:{lunch:0,dinner:0,total:0},thisMonth:{count:0,amount:0},lastMonth:{count:0,amount:0}};return e.forEach(e=>{const t=new Date(e.issue_date),a=t.getMonth(),d=t.getFullYear();let c=0,p="Lunch";try{const t=e.notes?JSON.parse(e.notes):{};c=t.amount?parseFloat(t.amount):90*(parseInt(e.total_meals)||0),t.mealType&&(p=t.mealType)}catch(t){c=90*(parseInt(e.total_meals)||0)}const x=parseInt(e.total_meals||0);e.issue_date===s&&("Lunch"===p&&(o.today.lunch+=x),"Dinner"===p&&(o.today.dinner+=x),o.today.total+=x),a===n&&d===r&&(o.thisMonth.count+=x,o.thisMonth.amount+=c),a===l&&d===i&&(o.lastMonth.count+=x,o.lastMonth.amount+=c)}),o})(e);return t?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):(0,c.jsxs)("div",{children:[(0,c.jsx)(l.Card,{style:{marginBottom:"20px",backgroundColor:"#fff",border:"1px solid #e0e0e0"},children:(0,c.jsxs)(l.CardBody,{children:[(0,c.jsx)("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",color:"#757575",textTransform:"uppercase"},children:(0,a.__)("Monthly Performance")}),(0,c.jsxs)(l.Flex,{gap:4,children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsxs)("div",{style:{border:"1px solid #e0e0e0",padding:"15px",borderRadius:"8px"},children:[(0,c.jsx)("div",{style:{fontSize:"12px",color:"#646970",marginBottom:"4px"},children:(0,a.__)("This Month")}),(0,c.jsxs)(l.Flex,{justify:"flex-start",gap:3,align:"baseline",children:[(0,c.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#101517"},children:["â‚¹",s.thisMonth.amount.toLocaleString("en-IN")]}),(0,c.jsxs)("div",{style:{fontSize:"13px",color:"#757575"},children:["(",s.thisMonth.count," Passes)"]})]})]})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsxs)("div",{style:{border:"1px solid #e0e0e0",padding:"15px",borderRadius:"8px"},children:[(0,c.jsx)("div",{style:{fontSize:"12px",color:"#646970",marginBottom:"4px"},children:(0,a.__)("Last Month")}),(0,c.jsxs)(l.Flex,{justify:"flex-start",gap:3,align:"baseline",children:[(0,c.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#646970"},children:["â‚¹",s.lastMonth.amount.toLocaleString("en-IN")]}),(0,c.jsxs)("div",{style:{fontSize:"13px",color:"#757575"},children:["(",s.lastMonth.count," Passes)"]})]})]})})]})]})}),0===e.length?(0,c.jsx)("p",{style:{padding:"16px",textAlign:"center",color:"#757575"},children:(0,a.__)("No food passes found.","wp-erp")}):(0,c.jsx)("div",{style:{overflowX:"auto"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Pass ID","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Meal Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Quantity","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Amount","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>{let t="-",s="-";try{const n=e.notes?JSON.parse(e.notes):{};n.amount?t=`â‚¹${n.amount}`:e.total_meals&&(t="â‚¹"+90*e.total_meals),s=n.mealType?n.mealType:"Lunch"}catch(n){e.total_meals&&(t="â‚¹"+90*e.total_meals,s="Lunch")}return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.id})}),(0,c.jsx)("td",{children:e.issue_date}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"2px 6px",borderRadius:"4px",background:"Lunch"===s?"#e5f5fa":"#fcf0f1",color:"Lunch"===s?"#00869d":"#d63638",fontWeight:"500"},children:s})}),(0,c.jsx)("td",{children:e.total_meals}),(0,c.jsx)("td",{children:t})]},e.id)})})]})})]})},k=({foodPasses:e})=>{const[t,s]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,d]=(0,r.useState)("all");(0,r.useEffect)(()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0];s(t),i(n)},[]);const p=((e,t,s,n)=>{if(!t||!s)return[];const r=new Date(t),a=new Date(s);return a.setHours(23,59,59,999),e.filter(e=>{const t=new Date(e.issue_date);if(t<r||t>a)return!1;if("all"!==n){let t="Lunch";try{const s=e.notes?JSON.parse(e.notes):{};s.mealType&&(t=s.mealType)}catch(e){}if(t.toLowerCase()!==n.toLowerCase())return!1}return!0})})(e,t,n,o);let x=0,h=0,u=0,j=0;return p.forEach(e=>{const t=parseInt(e.total_meals||0);let s=0,n="Lunch";try{const r=e.notes?JSON.parse(e.notes):{};s=r.amount?parseFloat(r.amount):90*t,r.mealType&&(n=r.mealType)}catch(e){s=90*t}x+=t,h+=s,"Lunch"===n&&(u+=t),"Dinner"===n&&(j+=t)}),(0,c.jsxs)("div",{className:"food-pass-reports",children:[(0,c.jsx)(l.Card,{style:{marginBottom:"20px",padding:"20px"},children:(0,c.jsxs)(l.Flex,{gap:4,align:"end",wrap:!0,children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("Start Date","wp-erp"),type:"date",value:t,onChange:e=>s(e)})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsx)(l.TextControl,{label:(0,a.__)("End Date","wp-erp"),type:"date",value:n,onChange:e=>i(e)})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsxs)("div",{className:"components-base-control",children:[(0,c.jsx)("label",{className:"components-base-control__label",style:{marginBottom:"8px",display:"block"},children:(0,a.__)("Meal Type","wp-erp")}),(0,c.jsxs)("select",{value:o,onChange:e=>d(e.target.value),style:{width:"100%",height:"40px",borderColor:"#757575",borderRadius:"4px",padding:"0 8px"},children:[(0,c.jsx)("option",{value:"all",children:(0,a.__)("All Types")}),(0,c.jsx)("option",{value:"lunch",children:(0,a.__)("Lunch")}),(0,c.jsx)("option",{value:"dinner",children:(0,a.__)("Dinner")})]})]})}),(0,c.jsx)(l.FlexBlock,{style:{flex:"0 0 auto"},children:(0,c.jsx)(l.Button,{variant:"secondary",onClick:()=>{const e=(new Date).toISOString().split("T")[0];s(e),i(e)},children:(0,a.__)("Today")})})]})}),(0,c.jsxs)(l.Flex,{gap:4,style:{marginBottom:"20px"},children:[(0,c.jsx)(l.FlexBlock,{children:(0,c.jsxs)(l.Card,{style:{padding:"20px",textAlign:"center",borderTop:"4px solid #2271b1"},children:[(0,c.jsx)("div",{style:{color:"#646970",fontSize:"13px",textTransform:"uppercase"},children:(0,a.__)("Total Revenue")}),(0,c.jsxs)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#101517"},children:["â‚¹",h.toLocaleString("en-IN")]})]})}),(0,c.jsx)(l.FlexBlock,{children:(0,c.jsxs)(l.Card,{style:{padding:"20px",textAlign:"center",borderTop:"4px solid #00a32a"},children:[(0,c.jsx)("div",{style:{color:"#646970",fontSize:"13px",textTransform:"uppercase"},children:(0,a.__)("Passes Sold")}),(0,c.jsx)("div",{style:{fontSize:"28px",fontWeight:"bold"},children:x}),(0,c.jsxs)("div",{style:{fontSize:"12px",color:"#757575",marginTop:"4px"},children:[u," Lunch â€¢ ",j," Dinner"]})]})})]}),p.length>0?(0,c.jsx)("div",{style:{overflowX:"auto",background:"#fff",border:"1px solid #e0e0e0"},children:(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("Pass ID","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Meal Type","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Quantity","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Amount","wp-erp")})]})}),(0,c.jsx)("tbody",{children:p.map(e=>{let t="-",s="-";try{const n=e.notes?JSON.parse(e.notes):{};n.amount?t=`â‚¹${n.amount}`:e.total_meals&&(t="â‚¹"+90*e.total_meals),s=n.mealType||"Lunch"}catch(n){t="â‚¹"+90*e.total_meals,s="Lunch"}return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("strong",{children:e.id})}),(0,c.jsx)("td",{children:e.issue_date}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{style:{padding:"2px 6px",borderRadius:"4px",background:"Lunch"===s?"#e5f5fa":"#fcf0f1",color:"Lunch"===s?"#00869d":"#d63638",fontWeight:"500"},children:s})}),(0,c.jsx)("td",{children:e.total_meals}),(0,c.jsx)("td",{children:t})]},e.id)})})]})}):(0,c.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#757575",background:"#fff",border:"1px solid #e0e0e0"},children:(0,a.__)("No records found for the selected range.","wp-erp")})]})},P=({view:e="create"})=>{const[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,d]=(0,r.useState)(null),[p,x]=(0,r.useState)("list"===e?"list":"create");(0,r.useEffect)(()=>{"list"!==p&&"reports"!==p||h()},[p]);const h=async()=>{i(!0),d(null);try{const e=await T();s(e)}catch(e){d(e.message)}finally{i(!1)}},u=()=>{T().then(s).catch(()=>{})};return(0,c.jsxs)("div",{className:"wp-erp-food-pass",style:{padding:"16px"},children:[o&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>d(null),children:o}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h2",{style:{margin:0},children:(0,a.__)("Food Pass Management","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)(l.TabPanel,{className:"wp-erp-food-pass-tabs",activeClass:"is-active",initialTabName:p,onSelect:e=>x(e),tabs:[{name:"create",title:(0,a.__)("Create Food Pass","wp-erp"),className:"tab-create"},{name:"list",title:(0,a.__)("All Food Passes","wp-erp"),className:"tab-list"},{name:"reports",title:(0,a.__)("Reports","wp-erp"),className:"tab-reports"}],children:e=>"list"===e.name?(0,c.jsx)(D,{foodPasses:t,loading:n}):"reports"===e.name?(0,c.jsx)(k,{foodPasses:t}):(0,c.jsx)(B,{onFoodPassCreated:u})})})]})]})},A=({ledgers:e,onDonationCreated:t})=>{const[s,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[p,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(""),[j,_]=(0,r.useState)(e[0]||""),[m,y]=(0,r.useState)(""),[w,g]=(0,r.useState)("");return(0,c.jsxs)(c.Fragment,{children:[i&&(0,c.jsx)(l.Notice,{status:"error",isDismissible:!1,onRemove:()=>d(null),children:i}),(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h3",{children:(0,a.__)("New Donation","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:(0,c.jsx)("form",{onSubmit:async s=>{s.preventDefault(),n(!0),d(null);const r=(new Date).toISOString().split("T")[0],l={donor_name:p,phone:h,ledger:j||e[0],amount:m,notes:w,issue_date:r};try{const s=await(async e=>{try{return await o()({path:"/wp-erp/v1/donations",method:"POST",data:e})}catch(e){throw new Error(e.message||(0,a.__)("Failed to save donation","wp-erp"))}})(l),n={title:"DONATION RECEIPT",id:s.id,date:r,donor_name:p,phone:h,ledger:j||e[0],amount:m,note:w},i=F(n,"donation");N(i),x(""),u(""),y(""),g(""),t&&t(s)}catch(e){d(e.message)}finally{n(!1)}},children:(0,c.jsxs)(l.Flex,{direction:"column",gap:4,children:[(0,c.jsx)(l.TextControl,{label:(0,a.__)("Date","wp-erp"),value:(new Date).toLocaleDateString(),readOnly:!0}),(0,c.jsx)(l.TextControl,{label:(0,a.__)("Phone Number","wp-erp"),value:h,onChange:u,onBlur:async()=>{if(!h)return;const e=await(async e=>{try{return await o()({path:`/wp-erp/v1/donations/donor?phone=${e}`})}catch(e){return console.log("Donor lookup failed",e),null}})(h);e&&e.found&&e.donor_name&&x(e.donor_name)},required:!0}),(0,c.jsx)(l.TextControl,{label:(0,a.__)("Donor Name","wp-erp"),value:p,onChange:x,required:!0}),(0,c.jsx)(l.SelectControl,{label:(0,a.__)("Ledger","wp-erp"),value:j,options:e.map(e=>({label:e,value:e})),onChange:_}),(0,c.jsx)(l.TextControl,{label:(0,a.__)("Note (Optional)","wp-erp"),value:w,onChange:g}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"components-base-control__label",children:(0,a.__)("Amount","wp-erp")}),(0,c.jsx)(l.Flex,{gap:2,wrap:!0,style:{marginBottom:"10px"},children:[100,200,250,500,1e3].map(e=>(0,c.jsxs)(l.Button,{variant:parseInt(m)===e?"primary":"secondary",onClick:()=>y(e),children:["â‚¹",e]},e))}),(0,c.jsx)(l.TextControl,{placeholder:(0,a.__)("Custom Amount","wp-erp"),type:"number",value:m,onChange:y,required:!0})]}),(0,c.jsxs)("div",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: â‚¹",m||0]}),(0,c.jsx)(l.Button,{type:"submit",variant:"primary",isBusy:s,children:(0,a.__)("Print & Save","wp-erp")})]})})})]})]})},E=({donations:e,loading:t})=>t&&0===e.length?(0,c.jsx)(l.Flex,{justify:"center",style:{padding:"32px"},children:(0,c.jsx)(l.Spinner,{})}):(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h3",{children:(0,a.__)("Donation History","wp-erp")})}),(0,c.jsx)(l.CardBody,{children:0===e.length?(0,c.jsx)("p",{style:{textAlign:"center",color:"#757575"},children:(0,a.__)("No donations found.","wp-erp")}):(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,a.__)("ID","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Date","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Donor","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Phone","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Ledger","wp-erp")}),(0,c.jsx)("th",{children:(0,a.__)("Amount","wp-erp")})]})}),(0,c.jsx)("tbody",{children:e.map(e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.id}),(0,c.jsx)("td",{children:e.issue_date}),(0,c.jsx)("td",{children:e.donor_name}),(0,c.jsx)("td",{children:e.phone}),(0,c.jsx)("td",{children:e.ledger}),(0,c.jsxs)("td",{children:["â‚¹",e.amount]})]},e.id))})]})})]}),R=({ledgers:e,onLedgersUpdated:t})=>{const[s,n]=(0,r.useState)(""),[i,d]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1);return(0,c.jsxs)(l.Card,{children:[(0,c.jsx)(l.CardHeader,{children:(0,c.jsx)("h3",{children:(0,a.__)("Manage Ledgers","wp-erp")})}),(0,c.jsxs)(l.CardBody,{children:[i&&(0,c.jsx)(l.Notice,{status:"error",onRemove:()=>d(null),children:i}),(0,c.jsx)("ul",{children:e.map((e,t)=>(0,c.jsx)("li",{children:e},t))}),(0,c.jsxs)(l.Flex,{children:[(0,c.jsx)(l.TextControl,{value:s,onChange:n,placeholder:(0,a.__)("New Ledger Name","wp-erp")}),(0,c.jsx)(l.Button,{variant:"secondary",onClick:async()=>{if(!s)return;x(!0),d(null);const r=[...e,s];try{await(async e=>{try{return await o()({path:"/wp-erp/v1/donations/ledgers",method:"POST",data:{ledgers:e}})}catch(e){throw new Error("Failed to save ledger")}})(r),t(r),n("")}catch(e){d(e.message)}finally{x(!1)}},isBusy:p,children:(0,a.__)("Add","wp-erp")})]})]})]})},I=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0),[p,x]=(0,r.useState)(null),[h,u]=(0,r.useState)("create"),[j,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m()},[]),(0,r.useEffect)(()=>{"history"!==h||j||y()},[h,j]);const m=async()=>{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/donations/ledgers"})}catch(e){return console.error(e),[]}})();n(e)},y=async()=>{d(!0);try{const e=await(async()=>{try{return await o()({path:"/wp-erp/v1/donations"})}catch(e){throw new Error(e.message||(0,a.__)("Failed to fetch donations","wp-erp"))}})();t(e),_(!0)}catch(e){x(e.message)}finally{d(!1)}},w=s=>{j?t([s,...e]):_(!1)},g=e=>{n(e)};return(0,c.jsxs)("div",{className:"wp-erp-donations",style:{padding:"20px"},children:[p&&(0,c.jsx)(l.Notice,{status:"error",onRemove:()=>x(null),children:p}),(0,c.jsx)(l.TabPanel,{className:"wp-erp-donations-tabs",activeClass:"is-active",initialTabName:"create",onSelect:u,tabs:[{name:"create",title:"Create Donation",className:"tab-create"},{name:"history",title:"History",className:"tab-history"},{name:"settings",title:"Settings",className:"tab-settings"}],children:t=>"create"===t.name?(0,c.jsx)(A,{ledgers:s,onDonationCreated:w}):"history"===t.name?(0,c.jsx)(E,{donations:e,loading:i}):"settings"===t.name?(0,c.jsx)(R,{ledgers:s,onLedgersUpdated:g}):void 0})]})};function O(){const e=document.getElementById("wp-erp-crm-root");e&&(console.log("Mounting CRM App"),(0,n.H)(e).render((0,c.jsx)(h,{})));const t=document.getElementById("wp-erp-accounting-root");t&&(console.log("Mounting Accounting App"),(0,n.H)(t).render((0,c.jsx)(m,{})));const s=document.getElementById("wp-erp-hr-root");s&&(0,n.H)(s).render((0,c.jsx)(y,{}));const r=document.getElementById("wp-erp-helpdesk-root");r&&(0,n.H)(r).render((0,c.jsx)(w,{}));const a=document.getElementById("wp-erp-vouchers-root");a&&(0,n.H)(a).render((0,c.jsx)(g,{}));const l=document.getElementById("wp-erp-invoices-root");l&&(0,n.H)(l).render((0,c.jsx)(f,{}));const i=document.getElementById("wp-erp-expenses-root");i&&(0,n.H)(i).render((0,c.jsx)(S,{}));const o=document.getElementById("wp-erp-food-pass-root");o&&(0,n.H)(o).render((0,c.jsx)(P,{}));const d=document.getElementById("wp-erp-donations-root");d&&(0,n.H)(d).render((0,c.jsx)(I,{}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",O):O()})();